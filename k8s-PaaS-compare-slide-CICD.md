***

## 基本的组成和构成形态

+ 灵雀和时速都是kubernetes + CI/CD的形式
  - kubenetes（以下简称k8s）是一个基于容器的，服务编排引擎，依托其核心功能可以完成灰度上线、弹性伸缩、服务资源创建及销毁等线上运维基本操作
  - CI/CD的基本功能也依赖k8s对容器的调度来实现
+ k8s提供了非常丰富且稳定的基础能力实现，这类PaaS平台核心功能客观的说都是来源于k8s和k8s所依赖的容器来形成其产品能力
+ 因此灵雀和时速在本质上实际大同小异

***

### k8s方面，商业产品相对于自维护的优势：

+ 可以代为维护k8s的起步安装和升级两方面的工作
  - k8s遇上墙，有理也说不清
  - k8s主线版本更新速度非常快（9个月End-of-Life），本身是开源项目，其自身目前不存在LTS版本
+ 提供基于角色的面向各类资源的权限控制能力
  - 如果自维护k8s，这一部分需要自研（解决方案），且会碎片化

***

### k8s方面，灵雀和时速比较：

+ 大致的功能是一致的，目前只发现一处
  + 时速隐去一个k8s的基本功能Job和CronJob，灵雀还具备
+ 针对k8s的升级维护售前支持都有口头承诺，但目前二者在这方面都没有明确路线图方案给出来
+ 权限管理，操作方式区别比较大，但基本的权限控制都有，灵雀的可选接入方式更多一些（有Azure AD）

***

### k8s方面，自维护的优势：

+ 不用受限于商业产品的能力
  - 可以针对性的处理自身真正需要解决的细节问题
  - 可以充分挖掘k8s本身的带来的可能性
+ 不受商业产品按时长授权许可的限制，不被绑定在一个创业公司（时速和灵雀确实都是）的产品上

***

### k8s方面，自维护的劣势：

+ 除了许可证，其实自维护的优势都仅仅是概念上的
+ 初步估算自维护PaaS解决方案k8s部分，至少需要一名，全职的并有着5年以上研发管理或运维管理经验的工程师来进行实施

***

### CI/CD方面，商业产品相对于自维护的优势：

+ 自维护如果也基于k8s，还需要设计一套具体的实施方案，商业产品是开箱即用的，准确的说是他们已经证明了自己能用
+ 自维护如果抛开k8s的话，虽然有传统成熟的解决方案，但是需要单独维护一组jenkins服务及其运算资源来实现，理论上会有更多的资源消耗
+ 商业产品都提供一组可视化的流程定义工具，比单纯撰写脚本，更符合一部分工作人员的习惯和能力

***

### CI/CD方面，灵雀和时速的比较：

+ 基于k8s的实现部分，对CI的理解度都不好，时速比灵雀的基于代码库触发方式多一些，但也没有什么本质不同
+ 在和传统CI工具Jenkins对接方面，都不成熟：灵雀没有配置成功，售前原话是他们自己也没用过；时速的方式和不用没什么区别
+ CD在细节上也是类似，没有设计多个环境衔接的部分，还是把复杂度抛给用户
+ 总之CI/CD方面都不像精心打造的环节，为有而有的感觉，老程序员对此很不满意（纯粹是让人换了个工具而已）

***

### CI/CD 方面，自维护的优势：

+ 和k8s类似，不用受限于商业产品解决方案的限制
  - 比如传统CI（主要是jenkins job）主要问题是碎片化和版本化能力不足，对应的这里评估的商业产品都没有表现出来在解决这个问题
+ 同样，可以不受商业产品按节点时长授权许可的限制
  - CI/CD这东西卖钱，没些特别的咨询师经验过来，不值得付费；按时间节点付费并不是这类产品的标准上盈利模式，所以说明这类功能是随k8s管理附赠的，免费的是最贵的；主流的顶尖产品：
  - 要么是按SaaS平台标准的模式，[用户数+租用时长付费](https://www.cloudbees.com/products/pricing)
  - 要么是按[并发任务数付钱](https://travis-ci.com/plans)

***

### CI/CD 方面，自维护的劣势：

+ 这个和k8s还不太一样，k8s是新鲜事物，而jenkins基本为绝大多数开发工程师（特别是java开发工程师）所熟悉
+ 所以自维的劣势更多的在于两点：
  - 假设是没有理解他们的产品逻辑，不过可能性比较低
  - 他这个产品中的功能是个鸡肋，不用的话还得额外再组织资源来做这些事情

***

### 从k8s还有CI/CD方面来总结一下

+ k8s方面，商业产品有明显明显的起步和潜在的维护升级的优势
+ CI/CD方面，和自维护方案没有明显区别

***